
à¸ˆà¸±à¸”à¸à¸²à¸£ Dates & Time à¸”à¹‰à¸§à¸¢ Python
===

![enter image description here](https://www.howtoautomate.in.th/wp-content/uploads/2018/04/pocket-watch-3156771_640.jpg)

Module Dates & Time à¹ƒà¸™ python à¹€à¸›à¹‡à¸™à¸­à¸°à¹„à¸£à¸—à¸µà¹ˆà¸‡à¹ˆà¸²à¸¢à¸”à¸µ à¹‚à¸”à¸¢à¸«à¸¥à¸±à¸à¸à¸²à¸£à¸“à¹Œà¸‚à¸­à¸‡  [DateTimes](https://docs.python.org/3/library/datetime.html)  à¹ƒà¸™ python à¸¡à¸µà¹à¸„à¹ˆ 2 â€‹à¸ªà¹ˆà¸§à¸™à¸«à¸¥à¸±à¸à¹†à¸„à¸·à¸­

1.  Naive = à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸­à¸‡à¹€à¸§à¸¥à¸²à¸—à¸±à¹ˆà¸§à¹†à¹„à¸› à¹€à¸Šà¹ˆà¸™ à¸žà¸§à¸ Coordinated Universal Time (UTC), local time à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸¡à¸µ algorithm à¸­à¸°à¹„à¸£à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸‡à¹ˆà¸²à¸¢à¹ƒà¸Šà¹‰à¹ƒà¸™à¸‡à¸²à¸™à¸žà¸·à¹‰à¸™à¸à¸²à¸™
2.  Aware = à¸­à¸±à¸™à¸™à¸µà¹‰à¸ˆà¸°à¸‰à¸¥à¸²à¸”à¸«à¸™à¹ˆà¸­à¸¢à¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸£à¸·à¹ˆà¸­à¸‡à¸‚à¸­à¸‡ timezone, daylight saving time, time adjustment,etc.

à¸‹à¸¶à¹ˆà¸‡à¸–à¸¶à¸‡à¹€à¸§à¸¥à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ˆà¸£à¸´à¸‡à¹† à¹€à¸£à¸²à¸à¹‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸ªà¸™à¹ƒà¸ˆà¸«à¸£à¸­à¸à¸§à¹ˆà¸² object à¹„à¸«à¸™ ðŸ™‚ à¹à¸•à¹ˆà¹à¸„à¹ˆà¸­à¸¢à¸²à¸à¹ƒà¸«à¹‰à¸£à¸¹à¹‰à¸ˆà¸±à¸ Jargon à¸™à¸µà¹‰à¹„à¸§à¹‰ à¹€à¸žà¸·à¹ˆà¸­à¸¡à¸µà¸à¸²à¸£à¸žà¸¹à¸”à¸–à¸¶à¸‡à¸‚à¸¶à¹‰à¸™à¸¡à¸²

à¸‹à¸¶à¹ˆà¸‡à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸«à¸¥à¸±à¸à¹†à¸—à¸µà¹ˆà¸ˆà¸°à¸™à¹à¸²à¸¡à¸²à¸­à¸˜à¸´à¸šà¸²à¸¢à¸§à¸±à¸™à¸™à¸µà¹‰à¸„à¸·à¸­

- String to DateTimes
- DateTimes to String
- Timezone
- Time Travel & Different DateTime
- Pendulum â€“ Helping Libraries

function à¸žà¸·à¹‰à¸™à¸à¸²à¸™à¸‚à¸­à¸‡à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¹€à¸§à¸¥à¸² Python à¸¡à¸µà¹„à¸§à¹‰à¹ƒà¸«à¹‰à¹€à¸£à¸²à¸«à¸¡à¸”à¹à¸¥à¹‰à¸§à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸ˆà¸°à¹€à¸­à¸²à¸¡à¸²à¹ƒà¸Šà¹‰à¸ˆà¸±à¸”à¸à¸²à¸£ timezone à¸«à¸£à¸·à¸­ datetimes calculation à¸à¹‡à¸¡à¸µà¹„à¸§à¹‰à¸žà¸£à¹‰à¸­à¸¡ à¹à¸•à¹ˆà¸–à¸¶à¸‡à¸¢à¸±à¸‡à¸‡à¸±à¹‰à¸™à¸à¹‡à¸¢à¸±à¸‡à¸¡à¸µ package à¸—à¸µà¹ˆà¸™à¹ˆà¸²à¸ªà¸™à¹ƒà¸ˆà¹ƒà¸™à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¹€à¸§à¸¥à¸²à¸­à¸¢à¹ˆà¸²à¸‡ Pendulum à¸—à¸µà¹ˆà¸—à¹à¸²à¸­à¸­à¸à¸¡à¸²à¹„à¸”à¹‰à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸‡à¹ˆà¸²à¸¢à¸à¸§à¹ˆà¸² à¹à¸¥à¸° à¸¢à¸±à¸‡à¸¡à¸µà¸šà¸²à¸‡à¸­à¸¢à¹ˆà¸²à¸‡à¸—à¸µà¹ˆ DateTimes modules à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¹€à¸•à¸£à¸µà¸¢à¸¡à¹„à¸§à¹‰à¹ƒà¸«à¹‰à¹€à¸£à¸²à¸¢à¸±à¸‡ human readable string à¸™à¸±à¹‰à¸™à¹€à¸­à¸‡ à¹€à¸žà¸£à¸²à¸°à¸‰à¸°à¸™à¸±à¹‰à¸™à¹‚à¸”à¸¢à¸£à¸§à¸¡à¹à¸¥à¹‰à¸§à¸–à¹‰à¸²à¸•à¹‰à¸­à¸‡à¸ˆà¸±à¸”à¸à¸²à¸£à¸ˆà¸£à¸´à¸‡à¹†à¹ƒà¸Šà¹‰ [Pendulum](https://pendulum.eustace.io/) à¸”à¸µà¸à¸§à¹ˆà¸²à¸„à¸£à¸±à¸š ðŸ™‚

## String to DateTimes
à¸šà¹ˆà¸­à¸¢à¸„à¸£à¸±à¹‰à¸‡à¸—à¸µà¹ˆà¹€à¸§à¸¥à¸²à¹€à¸£à¸²à¸—à¹à¸²à¸‡à¸²à¸™à¹à¸¥à¹‰à¸§à¸•à¹‰à¸­à¸‡à¹à¸›à¸¥à¸‡ string à¹„à¸›à¹€à¸›à¹‡à¸™ DateTime à¹‚à¸”à¸¢à¹ƒà¸™ python à¹ƒà¸Šà¹‰à¹€à¸žà¸µà¸¢à¸‡à¹à¸„à¹ˆ method à¹€à¸”à¸µà¸¢à¸§à¹ƒà¸™à¸à¸²à¸£ convert à¹„à¸›

from datetime import datetime 
string_datetime = '06/11/2018' 
#à¹‚à¸”à¸¢ %m%d%y à¸„à¸·à¸­ format string à¸—à¸µà¹ˆà¹€à¸£à¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸ˆà¸° parse
 
print(datetime.strptime(string_datetime,'%m%d%y'))
 
#output: 2016-06-11 00:00:00
DateTimes to String
à¹à¸•à¹ˆà¸—à¸²à¸‡à¸à¸¥à¸±à¸šà¸à¸±à¸™ à¸–à¹‰à¸²à¸­à¸¢à¸²à¸à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸ˆà¸²à¸ DateTimes object à¹„à¸›à¹€à¸›à¹‡à¸™ String à¸à¹‰à¹ƒà¸Šà¹‰ Strfrtime à¹à¸—à¸™ à¹‚à¸”à¸¢à¹€à¸£à¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸«à¹‰ output à¸­à¸­à¸à¸¡à¸²à¹€à¸›à¹‡à¸™à¹„à¸£à¹ƒà¸«à¹‰à¹ƒà¸Šà¹‰à¸•à¸²à¸¡ pattern à¹€à¸¥à¸¢

1
2
3
4
5
6
7
from datetime import datetime
 
#à¸ªà¸¡à¸¡à¸¸à¸•à¸´à¹ƒà¸«à¹‰à¸¡à¸µ datetime object à¸Šà¸·à¹ˆà¸­à¸§à¹ˆà¸² date_time_object  
 
print(date_time_object.strfrtime('%m%d%y'))
 
#output: 06/11/2016 à¹€à¸›à¹‡à¸™à¸•à¹‰à¸™
Timezone
à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ DateTimes object à¸à¹‡à¸•à¹‰à¸­à¸‡à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸–à¸¶à¸‡à¹€à¸£à¸·à¹ˆà¸­à¸‡à¸‚à¸­à¸‡ timezone à¸”à¹‰à¸§à¸¢ à¹€à¸žà¸£à¸²à¸°à¸§à¹ˆà¸²à¹€à¸§à¸¥à¸²à¸šà¸™à¹‚à¸¥à¸à¹ƒà¸šà¸™à¸µà¹‰à¹„à¸¡à¹ˆà¹€à¸—à¹ˆà¸²à¸à¸±à¸™ à¸à¸²à¸£à¸ˆà¸°à¹ƒà¸Šà¹‰à¹€à¸§à¸¥à¸²à¹ƒà¸™ zone à¹„à¸«à¸™à¸à¹‡à¸•à¹‰à¸­à¸‡à¸£à¸°à¸šà¸¸à¹ƒà¸«à¹‰à¸¡à¸±à¸™à¸”à¹‰à¸§à¸¢

à¹‚à¸”à¸¢à¸–à¹‰à¸²à¹€à¸›à¹‡à¸™ naive object à¸¡à¸±à¸™à¸ˆà¸°à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸²à¸¡à¸²à¸£à¸–à¸”à¹‰à¸²à¸™ timezone à¹€à¸žà¸£à¸²à¸°à¸‰à¸°à¸™à¸±à¹‰à¸™à¹€à¸£à¸²à¸•à¹‰à¸­à¸‡à¹ƒà¸Šà¹‰ aware object à¸‹à¸¶à¹ˆà¸‡à¸¡à¸±à¸™à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ modules à¸‚à¸­à¸‡ pytz à¸™à¸±à¹‰à¸™à¹€à¸­à¸‡ à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰à¹à¸šà¸šà¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸‚à¹‰à¸²à¸‡à¸¥à¹ˆà¸²à¸‡


 
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
from pytz import timezone
 
from datetime import datetime
 
dt_data = datetime.strptime('2016/06/11', %y%m%d)
 
ny_tz = timezone('US/Eastern')
 
#à¸—à¸µà¸™à¸µà¹‰à¸¡à¸²à¹à¸›à¸¥à¸‡à¹ƒà¸«à¹‰à¹€à¸›à¹‡à¸™à¹€à¸§à¸¥à¸²à¸‚à¸­à¸‡ US à¸à¸±à¸™à¸”à¹‰à¸§à¸¢ replace
 
new_dt = dt_data.replace(tzinfo=ny_tz)
 
#output: à¸ˆà¸°à¹„à¸”à¹‰à¹€à¸§à¸¥à¸²à¸‚à¸­à¸‡ timezone à¸™à¸±à¹‰à¸™à¹†
 
#à¸«à¸£à¸·à¸­à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸ˆà¸°à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ tz à¸‚à¸­à¸‡ object à¸—à¸µà¹ˆà¸¡à¸µà¸­à¸¢à¸¹à¹ˆà¹à¸¥à¹‰à¸§à¸à¹‡à¸—à¹à¸²à¹„à¸”à¹‰à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰ astimezone()
 
la_tz = timezone('US/Pacific')
 
changed_tz = ny_tz.astimezone(la_tz)
 
#output: à¹„à¸”à¹‰ object timezone à¹ƒà¸«à¸¡à¹ˆ à¸žà¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸™à¸±à¹‰à¸™à¹€à¸­à¸‡
 
pacific_time = dt_data.replace(tzinfo=changed_tz)

 
à¹‚à¸”à¸¢à¹€à¸£à¸²à¸ªà¸²à¸¡à¸²à¸£à¸–à¸”à¸¹ list timezone à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹„à¸”à¹‰à¸ˆà¸²à¸ wiki à¹ƒà¸™ column â€œTZâ€ à¸­à¸±à¸™à¸™à¸µà¹‰à¹€à¸¥à¸¢ ðŸ™‚

Time Travel
à¹€à¸§à¸¥à¸²à¹€à¸£à¸²à¸•à¹‰à¸­à¸‡à¸—à¹à¸²à¸à¸²à¸£à¸¢à¹‰à¸­à¸™à¹€à¸§à¸¥à¸²à¸à¸¥à¸±à¸šà¹„à¸›à¹€à¸Šà¹‡à¸„à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ à¸«à¸£à¸·à¸­ à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸±à¸šà¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸­à¸”à¸µà¸• à¸«à¸£à¸·à¸­ à¹à¸¡à¹‰à¹à¸•à¹ˆà¸«à¸² different à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸² à¹€à¸£à¸²à¸ˆà¸°à¹ƒà¸Šà¹‰ timedelta à¹ƒà¸™à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸´à¹ˆà¸‡à¹€à¸«à¸¥à¹ˆà¸²à¸™à¸µà¹‰

1
2
3
4
5
6
7
8
9
10
11
12
13
from datetime import timedelta
 
flashback = timedelta(days=90)
 
dt = datetime.now()
 
#à¸—à¸µà¸™à¸µà¹‰à¸–à¹‰à¸²à¸­à¸¢à¸²à¸à¸«à¸²à¸¢à¹‰à¸­à¸™à¸«à¸¥à¸±à¸‡ 90 à¸§à¸±à¸™à¸à¹‡à¹à¸„à¹ˆ à¹€à¸­à¸²à¸¡à¸²à¸¥à¸šà¸à¸±à¸™à¸•à¸£à¸‡à¹†à¹€à¸¥à¸¢!
 
print(dt-flashback)
 
#output à¸™à¸µà¹‰à¸­à¸­à¸à¸¡à¸²à¸•à¸£à¸‡à¹† à¹€à¸­à¸²à¸§à¸±à¸™à¸™à¸µà¹‰à¸¥à¸šà¹„à¸› 3 à¹€à¸”à¸·à¸­à¸™!
 
#à¸«à¸£à¸·à¸­à¸ˆà¸°à¸šà¸§à¸ 90 à¸§à¸±à¸™à¸à¹‡à¹„à¸”à¹‰à¸™à¹ˆà¸°

 
à¹‚à¸”à¸¢à¸«à¸¥à¸±à¸à¸à¸²à¸£à¸“à¹Œà¹„à¸¡à¹ˆà¸¡à¸µà¹„à¸£à¸¡à¸²à¸ à¹€à¸£à¸²à¸­à¸²à¸ˆà¸ˆà¸°à¸™à¹à¸²à¹„à¸›à¹ƒà¸Šà¹‰à¸•à¸­à¸™à¸ªà¸£à¹‰à¸²à¸‡ session à¸«à¸£à¸·à¸­ keys, ttl à¸«à¸£à¸·à¸­à¸­à¸°à¹„à¸£à¸à¹‡à¹„à¸”à¹‰à¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡à¸à¸±à¸šà¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¹€à¸§à¸¥à¸²à¹€à¸«à¸¥à¹ˆà¸²à¸™à¸µà¹‰ ðŸ™‚

Pendulum â€“ Helping Libraries
à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰ function à¸žà¸·à¹‰à¸™à¸à¸²à¸™à¸‚à¸­à¸‡ DateTimes, Timezone, Timedelta à¸—à¸µà¹ˆà¸„à¸§à¸£à¸ˆà¸°à¸£à¸¹à¹‰à¹à¸¥à¹‰à¸§ à¸„à¸£à¸²à¸§à¸™à¸µà¹‰à¹€à¸£à¸²à¸¡à¸²à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¹€à¸£à¸·à¹ˆà¸­à¸‡à¸‚à¸­à¸‡ Pendulum à¸‹à¸¶à¹ˆà¸‡à¹€à¸›à¹‡à¸™ libraries à¸—à¸µà¹ˆà¸Šà¹ˆà¸§à¸¢à¹ƒà¸«à¹‰à¸Šà¸µà¸§à¸´à¸•à¸ªà¸°à¸”à¸§à¸à¸¡à¸²à¸à¸‚à¸¶à¹‰à¸™à¸¡à¸²à¸à¹†à¹€à¸¥à¸¢ ðŸ™‚

à¹€à¸žà¸£à¸²à¸°à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¹ƒà¸™à¸à¸²à¸£à¹à¸›à¸¥à¸‡à¸„à¹ˆà¸²à¹€à¸§à¸¥à¸²à¸¡à¸²à¹€à¸›à¹‡à¸™à¸ à¸²à¸©à¸²à¸¡à¸™à¸¸à¸©à¸¢à¹Œà¹€à¸™à¸µà¹‰à¸¢à¹à¸«à¸¥à¸° à¸—à¸µà¹ˆà¸—à¹à¸²à¹ƒà¸«à¹‰à¹€à¸£à¸²à¸—à¹à¸²à¸‡à¸²à¸™à¸ªà¸°à¸”à¸§à¸à¸¡à¸²à¸à¸‚à¸¶à¹‰à¸™ à¸£à¸§à¸¡à¹„à¸›à¸–à¸¶à¸‡à¸ªà¸±à¹‰à¸™à¸à¸£à¸°à¸—à¸±à¸”à¸£à¸±à¸”à¸”à¹‰à¸§à¸¢

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
import pendulum
 
#function 1 - parse & format
 
pendulum_obj = pendulum.parse('6/11/2018',tz='US/Eastern')
 
#format pendulum object to string 
 
print(pendulum_obj.format('%A %d/%m/%Y %H:%M'))
 
#function 2 - now
 
now = pendulum.now('Europe/Paris')
 
#function 3 - change timezone
 
pendulum.in_timezone('America/Toronto')
 
#function 4 - add days
 
now.add(days=2)
 
#function 5 - human readable date time when time calculation
 
diff = time1_obj - time2_obj
 
print(diff.in_word())
 
#example output: 2 days 23 hours 12 minutes
 
print(diff.in_days())
 
#example output: 2 days
à¸ªà¸£à¸¸à¸›à¹à¸¥à¹‰à¸§
à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸¥à¸­à¸‡à¹€à¸¥à¹ˆà¸™à¸¡à¸²à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹à¸¥à¹‰à¸§ à¸ªà¸£à¸¸à¸›à¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆ default modules à¸­à¸¢à¹ˆà¸²à¸‡ DateTimes à¹à¸¥à¹‰à¸§à¹„à¸›à¹ƒà¸Šà¹‰ pendulum à¸™à¹ˆà¸²à¸ˆà¸°à¸‡à¹ˆà¸²à¸¢à¸à¸±à¸šà¸Šà¸µà¸§à¸´à¸•à¸¡à¸²à¸à¸à¸§à¹ˆà¸²à¸™à¹ˆà¸°à¹€à¸™à¸µà¹‰à¸¢ à¹€à¸žà¸£à¸²à¸°à¸¡à¸±à¸™à¸—à¸±à¹‰à¸‡ parse, different à¹à¸¥à¸°à¸à¹‡à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸±à¸š timezone à¹„à¸”à¹‰à¸‡à¹ˆà¸²à¸¢ default modules à¸‚à¸­à¸‡ python à¸‹à¸°à¸­à¸µà¸

à¸”à¸±à¸‡à¸™à¸±à¹‰à¸™à¸–à¹‰à¸² DateTimes à¹ƒà¸™ python à¹à¸™à¸°à¸™à¹à¸²à¹ƒà¸«à¹‰à¹ƒà¸Šà¹‰ â€œpendulumâ€ à¹€à¸¥à¸¢




> [Source : ](https://www.howtoautomate.in.th/python-date-time-example/.
<!--stackedit_data:
eyJoaXN0b3J5IjpbNjAyOTg1MDVdfQ==
-->